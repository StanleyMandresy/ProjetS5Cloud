export type Signalement = {
  id: string
  description: string
  latitude?: number
  longitude?: number
  status: "NOUVEAU" | "EN_COURS" | "TERMINE"
  createdAt?: any
  userEmail?: string | null
}: firebase

-- =========================
CREATE TABLE point_de_reparation (
    id_point SERIAL PRIMARY KEY,
    titre VARCHAR(100),
    description TEXT,

    date_signalement DATE DEFAULT CURRENT_DATE,
    date_debut_travaux DATE,
    date_fin_travaux DATE,

    statut VARCHAR(20) CHECK (statut IN ('NOUVEAU','EN_COURS','TERMINE')) NOT NULL,

    surface_m2 FLOAT,
    budget NUMERIC(15,2),

    geom GEOMETRY(GEOMETRY, 4326), -- Point / LineString / Polygon

    id_entreprise INT REFERENCES entreprise(id_entreprise),
    id_utilisateur INT REFERENCES utilisateur(id_utilisateur)
); : local postgres

But : -quand on change de statut un signalement l'user recoit un notif sur le mobile
          -une sorte de merge sur les deux conceptions

Mon idée:

User mobile envoi un signalement (il ne sait pas beaucoup de chose juste constate le travaux)
Le manager web le reçoit , il change le statut mais en meme temps rempli change le signalement en point de pour ainsi completer les informations
User mobile recevra une notif concernant son signalement

Problématique: devrait-on supprimer le signalement une fois tourné en point de reparation?





C:\Users\WINDOWS 10>curl -X POST http://localhost:8081/api/notifications/signalement -H "Content-Type: application/json" -d "{\"userEmail\":\"fikaonceforever@gmail.com\",\"title\":\"Test Notification\",\"body\":\"Ceci est un test\",\"fcmToken\":\"f3cjn0cr-2r5CRTVdNaERq:APA91bHGAJSODMf4g6SEs3_81bSpSETuzlQpLtmgxQBI0IQHPfCCaB17LTESKSivLzUfxGR0VF11Ym7xfUxBPDhJ3nJwJ3D_ye9Y0nGit78jYan34p4GeMY\"}"


// {
//   "type": "service_account",
//   "project_id": "signalisation-s5",
//   "private_key_id": "1705961a660ff627cc8925a67891612bc3eae08d",
//   "private_key": "-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC6yWQ45G/9+pKz\nfzzrtzOsVjS1mvZKFcbyjXi37JacBjB/7wfZj7oDHplxapyFewfLc6wfu/VEQRLC\nIvBGdbURmUPkscwQIbsGD1e6HPjo/UMmhTk30PfnJQpkT9b1QvgNBtqywgYjXcU/\nClOy+8X0HxKp1YwrfnyaTLjGp13gX3acyxKqwUhDlG0W8f+elaGRPPa+K1zU6zTa\nHhbZtMuiiw0L9v4XLz6TEGXSjD3KVDCwKTa07ehs42NaAOlHwpa3999ggtl4L6dM\nSg94H2euMOO5utHk7oRtLyibpBitprNuc28gFyg5LB8GeIybom8PH6wSZq7v/7eq\nmQHrvzP3AgMBAAECggEAEXPa0PQLQMxmY64qV431Ho+peiSCCbcSMTylwG2zPt3X\nL0T600m6JCt6Q94lxNUTi9+BgC+UQa3g3lHcaID8C6pp7Rbtzb4RFwZc+I9XdJGh\nchp1l7EHUMolt+y71YvN2I3A5n35i9lpojPJUUp0GxTCLis9Xx0A8Hvlse4Wd+3a\nrpED6VAWbwWnQAYGquGL+9yqA802/jhyZHVaP1aKCapn77j4A9GMemcpO65TtmPn\nODmFyJ5KgYbh1bvtw1rVF+16OEyDQDN6JAIlobKW+F7e1elpB1DJcVx7VtBmmUJ5\nAjFzk+ZeuyEJij4TGaKKl1oVN1WQ+MhUH2rFEw92TQKBgQDbXHBOGRxr5RoEHEcu\ngFMR6uvzap5T08EJxrmq4JOGA7k2knIxg/sNrJLshSm8xQmylGL2zKmDuDE+sbMS\nMVe3cIamYCfJ7uHa0VjCpzBIdyGRj/V1j5nl1i7QffVA2eiEDb6wl0Jd/6dDNT3z\nyrHMMotcBL/K4tXKNwzfk4/3BQKBgQDZ/B5hOUlmSHFTppAIM6KIZm4y5zi4gm6O\n9GH9CFXeietAbVC4OWwoNOmkPmpo6QvMuDlMwb1as2zrAHuuRd0MBY2E7kPLIe28\nHR4W6eISRxljOqvXK9h8eEbnlRJDAusNggGdTgh09ghaVPnoktS99NyHrgziktjp\nQq403yd3ywKBgQDXWDMD6FDndtyIZn5WnzFtqJMDvoo5vuqFv2or3xXT/TnI4hFq\nnKdMMDt4J+3mXAR+JH/Wyuoq3hqx8l7aIEh9U+FL2Z+V9IYSe2vIg7q5mQICVTHh\nvByX7iC9Gro2dPV3Fcs6rvM/Niesqcrs1vKehIwcxKjH8tFwF4Tyw3kURQKBgA9d\n4pZf/3iiarrG5yhs22xaLDKSckEvkLOrLq0zxTnm5xqnmiUihylecYoOjFnQ8+/+\nnKt4jOyz8V2vrwheDHMogQ157nWHcsbsFo7u9ezr7jI8lJiakqxTnkv9CkiHECLn\no01/jsEQBw63JtbqYuzxMgqujmH6kCgBd15qzNF5AoGBAIJjjJX+feX6Asw6X6qz\nDcgKubG+DzO858Tb1mrUlHj4ytDGJr57B0Q2P+/vtSCL1L5pEIY8eJsR199AVYfO\n2WmHiYNQqqOGsgKJymiPA7aYVfQWtK+qkg6ga6YS0qsRJRRSBPdlmzUo5qdqw407\n4ln8BH5sl/XpDaGvSo/m+fXC\n-----END PRIVATE KEY-----\n",
//   "client_email": "firebase-adminsdk-fbsvc@signalisation-s5.iam.gserviceaccount.com",
//   "client_id": "103710139632605506058",
//   "auth_uri": "https://accounts.google.com/o/oauth2/auth",
//   "token_uri": "https://oauth2.googleapis.com/token",
//   "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
//   "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-fbsvc%40signalisation-s5.iam.gserviceaccount.com",
//   "universe_domain": "googleapis.com"
// }
